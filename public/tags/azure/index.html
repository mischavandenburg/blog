<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Azure | Mischa van den Burg</title>
<meta name=keywords content><meta name=description content="Writing about the things I learn in my Cloud Native work: Kubernetes, Azure, Vim, Linux, Coding, Productivity"><meta name=author content="Mischa van den Burg"><link rel=canonical href=https://mischavandenburg.com/tags/azure/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://mischavandenburg.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://mischavandenburg.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://mischavandenburg.com/favicon-32x32.png><link rel=apple-touch-icon href=https://mischavandenburg.com/apple-touch-icon.png><link rel=mask-icon href=https://mischavandenburg.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://mischavandenburg.com/tags/azure/index.xml><link rel=alternate hreflang=en href=https://mischavandenburg.com/tags/azure/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-VLS3GJYW82"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VLS3GJYW82")}</script><meta property="og:url" content="https://mischavandenburg.com/tags/azure/"><meta property="og:site_name" content="Mischa van den Burg"><meta property="og:title" content="Azure"><meta property="og:description" content="Writing about the things I learn in my Cloud Native work: Kubernetes, Azure, Vim, Linux, Coding, Productivity"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://mischavandenburg.com/cloud-blue-logo.jpeg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://mischavandenburg.com/cloud-blue-logo.jpeg"><meta name=twitter:title content="Azure"><meta name=twitter:description content="Writing about the things I learn in my Cloud Native work: Kubernetes, Azure, Vim, Linux, Coding, Productivity"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://mischavandenburg.com/ accesskey=h title="Mischa van den Burg (Alt + H)">Mischa van den Burg</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://mischavandenburg.com/aboutme/ title=About><span>About</span></a></li><li><a href=https://mischavandenburg.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://mischavandenburg.com/archives/ title=Index><span>Index</span></a></li><li><a href=https://mischavandenburg.com/search/ title=" (Alt + /)" accesskey=/><span></span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Azure</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Comparing akv2k8s with Azure Key Vault Provider for Secret Store CSI Driver</h2></header><div class=entry-content><p>In a recent analysis, I explored two notable solutions for synchronizing secrets from Azure Key Vaults to AKS (Azure Kubernetes Service) clusters: akv2k8s and the Azure Key Vault Provider for the Secret Store CSI Driver. Here, I present my findings and recommendations based on the functionality, maintenance requirements, and integration capabilities of these tools.
Akv2k8s, maintained by Sparebanken, is an open-source tool designed for the synchronization of secrets. Being dependent on an external tool for Kubernetes secrets synchronization is an undesirable situation and poses several challenges. Notably, the latest version of akv2k8s has been problematic, especially concerning the deployment of Postgres databases on our AKS clusters using the EDB operator. Akv2k8s alters the SecurityContext of pods in a way that causes them to fail.
...</p></div><footer class=entry-footer><span title='2024-03-11 00:00:00 +0000 UTC'>March 11, 2024</span>&nbsp;路&nbsp;Mischa van den Burg</footer><a class=entry-link aria-label="post link to Comparing akv2k8s with Azure Key Vault Provider for Secret Store CSI Driver" href=https://mischavandenburg.com/zet/articles/akv2k8s-azure-key-vault-csi-analysis/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Kubernetes Gateway API & Azure Application Gateway for Containers</h2></header><div class=entry-content><p>This document is the result of my research into the Gateway API. It aims to briefly describe the Gateway API for Kubernetes, a typical implementation of ingress traffic using NGINX in AKS and how this setup could benefit from implementing the Gateway API.
Introduction Gateway API is an official Kubernetes project focused on L4 and L7 routing in Kubernetes. This project represents the next generation of Kubernetes Ingress, Load Balancing, and Service Mesh APIs. From the outset, it has been designed to be generic, expressive, and role-oriented.
...</p></div><footer class=entry-footer><span title='2024-03-10 00:00:00 +0000 UTC'>March 10, 2024</span>&nbsp;路&nbsp;Mischa van den Burg</footer><a class=entry-link aria-label="post link to Kubernetes Gateway API & Azure Application Gateway for Containers" href=https://mischavandenburg.com/zet/articles/gateway-api-application-gateway-for-containers/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>PersistentVolumeClaims Lifecycle in Kubernetes</h2></header><div class=entry-content><p>I always thought that Persistent Volume Claims where deleted when you delete the pod which they are associated with. I was wrong. The lifecycle of PVCs is independent of Pods, and their behavior is largely governed by the Reclaim Policy set on the PVs. Heres what you need to know:
PVCs: These are requests for storage, akin to how Pods request resources like CPU and memory. They exist independently and can be bound to Pods when needed. PVs: Provisioned by administrators or dynamically through Storage Classes, PVs provide the actual storage resources. Their lifecycle is not tied to any specific Pod. Understanding Reclaim Policies The Reclaim Policy on a PV dictates its fate after a PVC is released. There are three policies to be aware of:
...</p></div><footer class=entry-footer><span title='2024-01-18 00:00:00 +0000 UTC'>January 18, 2024</span>&nbsp;路&nbsp;Mischa van den Burg</footer><a class=entry-link aria-label="post link to PersistentVolumeClaims Lifecycle in Kubernetes" href=https://mischavandenburg.com/zet/kubernetes-storage-pvc-pv/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Video notes - Application Gateway for Containers</h2></header><div class=entry-content><p>App Gateway It has App Gateway in the name, but it is an entirely new solution. The App Gateway is the only thing it has in common with Azure Application Gateway.
Resources Two types of resources. Azure resources and k8s resources.
The App Gateway for Container is an azure resource which listens to changes in k8s resources through the ALB controller. AGWFC is the control plane.
...</p></div><footer class=entry-footer><span title='2024-01-05 00:00:00 +0000 UTC'>January 5, 2024</span>&nbsp;路&nbsp;Mischa van den Burg</footer><a class=entry-link aria-label="post link to Video notes - Application Gateway for Containers" href=https://mischavandenburg.com/zet/application-gateway-for-containers/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Homelab Secret Management With GitOps and Azure Key Vault</h2></header><div class=entry-content><p>In this blog post, I want to share with you how I set up secrets management for my home lab. I use my home lab to explore new technologies, but I also try to keep it in line with the practices I would use when setting up environments for clients. I focus on Microsoft Azure and the ecosystem they provide for cloud native applications. Secrets management is an important aspect of any cloud-native application, as it allows you to securely store and access sensitive information such as passwords, tokens and certificates.
...</p></div><footer class=entry-footer><span title='2023-12-29 00:00:00 +0000 UTC'>December 29, 2023</span>&nbsp;路&nbsp;Mischa van den Burg</footer><a class=entry-link aria-label="post link to Homelab Secret Management With GitOps and Azure Key Vault" href=https://mischavandenburg.com/zet/handling-secrets-kubernetes/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Talk: Avoiding Microservice Megadisasters by Jimmy Bogard</h2></header><div class=entry-content><p>Watched this very insightful talk on microservice architecture.
Some things I learned:
microservices should be autonomous: they should have minimal dependencies on other microservices if they have dependencies they should only be 1 layer deep a microservice should not be calling another microservice which calls another microservice dependencies can be reversed by pushing data towards the service for example: a pricing database can be dumped and pushed to a catalog service once a day data duplication is not a sin Another powerful point he made is that the architecture is a reflection from the organizations structure. He explained that the company was organized in teams and that managers of teams were promoted based on the amount of people they managed. This meant that managers were making up services which needed people to build them, which led to a proliferation of services and dependencies.
...</p></div><footer class=entry-footer><span title='2023-12-23 00:00:00 +0000 UTC'>December 23, 2023</span>&nbsp;路&nbsp;Mischa van den Burg</footer><a class=entry-link aria-label="post link to Talk: Avoiding Microservice Megadisasters by Jimmy Bogard" href=https://mischavandenburg.com/zet/talk-avoiding-microservice-disasters/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Ensure Cgroupsv2 compatiblity when containerizing old apps</h2></header><div class=entry-content><p>Are you currently working with containerizing older Java or .NET applications? From Kubernetes 1.29, the default cgroups implementation on Azure Linux AKS nodes will be cgroupsv2. Older versions of Java, .NET and NodeJS do not support memory querying v2 memory constraints and this will lead to out of memory (OOM) issues for workloads.
Please make sure that your older containerized applications are compatible with cgroupsv2 or you might be in quite some pain in the future.
...</p></div><footer class=entry-footer><span title='2023-12-12 00:00:00 +0000 UTC'>December 12, 2023</span>&nbsp;路&nbsp;Mischa van den Burg</footer><a class=entry-link aria-label="post link to Ensure Cgroupsv2 compatiblity when containerizing old apps" href=https://mischavandenburg.com/zet/ensure-cgroupsv2-compatibility/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Deploying Grafana Agent With Custom Secrets From Azure Key Vault Using Akv2k8s And K8s-Monitoring Helm Chart</h2></header><div class=entry-content><p>Grafana has developed a Helm chart which greatly simplifies the deployment of a monitoring stack to your Kubernetes clusters.
It contains:
kube-state-metrics, which gathers metrics about Kubernetes objects Node exporter, which gathers metrics about Kubernetes nodes OpenCost, which interprets the above to create cost metrics for the cluster, and Grafana Agent, which scrapes the above services to forward metrics to Prometheus and logs to Loki The Prometheus and Loki services may be hosted on the same cluster, or remotely (e.g. on Grafana Cloud).
...</p></div><footer class=entry-footer><span title='2023-11-28 00:00:00 +0000 UTC'>November 28, 2023</span>&nbsp;路&nbsp;Mischa van den Burg</footer><a class=entry-link aria-label="post link to Deploying Grafana Agent With Custom Secrets From Azure Key Vault Using Akv2k8s And K8s-Monitoring Helm Chart" href=https://mischavandenburg.com/zet/grafana-agent-with-custom-secrets-akv2k8s/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Setting up Grafana Cloud with Entra ID authentication using Terraform</h2></header><div class=entry-content><p>Been working on a nice project lately. My current client has chosen to run Grafana Cloud and the instance was running in West US, which was leading to slower performance. I took up the project of provisioning a new instance in West Europe. Although I would have preferred to host Grafana ourselves or use Azure Managed Grafana, this is what the client has chosen so I that is what Ill have to work with.
...</p></div><footer class=entry-footer><span title='2023-11-17 00:00:00 +0000 UTC'>November 17, 2023</span>&nbsp;路&nbsp;Mischa van den Burg</footer><a class=entry-link aria-label="post link to Setting up Grafana Cloud with Entra ID authentication using Terraform" href=https://mischavandenburg.com/zet/grafana-cloud-azure-ad/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>KEDA went GA for AKS!</h2></header><div class=entry-content><p>Great news! KEDA finally went GA for AKS.
https://learn.microsoft.com/en-us/azure/aks/keda-about
Links: 202311081711</p></div><footer class=entry-footer><span title='2023-11-09 00:00:00 +0000 UTC'>November 9, 2023</span>&nbsp;路&nbsp;Mischa van den Burg</footer><a class=entry-link aria-label="post link to KEDA went GA for AKS!" href=https://mischavandenburg.com/zet/keda-ga/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://mischavandenburg.com/tags/azure/page/2/>Next&nbsp;&nbsp;禄</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://mischavandenburg.com/>Mischa van den Burg</a></span> 路
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>