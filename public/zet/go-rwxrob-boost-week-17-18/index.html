<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Go - Skillstak Beginner Boost Week 17 and 18 Notes | Mischa van den Burg</title>
<meta name=keywords content="Study,Go,Coding"><meta name=description content="Beginner Boost Week 17 and 18 Notes Link to video
Don&rsquo;t forget to set GOBIN=~/.local/bin, GOPRIVATE, CGO_ENABLED=0 Go Testing - Example Tests func ExampleFoo() { foo() // Output: // Foo } The ExampleFoo indicates the test here. It needs to match the name exactly after Example. But it is capitalized.
It runs that function and will compare the output to what is specified.
It says &ldquo;see if the program generates this output in std out&rdquo;."><meta name=author content="Mischa van den Burg"><link rel=canonical href=https://mischavandenburg.com/zet/go-rwxrob-boost-week-17-18/><link crossorigin=anonymous href=/assets/css/stylesheet.min.e8ea20f7f0e32f55c23c7678de2e8bbd8c3aded5d82a4627a2038bf47ea08344.css integrity="sha256-6Oog9/DjL1XCPHZ43i6LvYw63tXYKkYnogOL9H6gg0Q=" rel="preload stylesheet" as=style><link rel=icon href=https://mischavandenburg.com/favicon.ico><link rel=apple-touch-icon href=https://mischavandenburg.com/apple-touch-icon.png><script async src="https://www.googletagmanager.com/gtag/js?id=G-VLS3GJYW82"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VLS3GJYW82",{anonymize_ip:!1})}</script><meta name=twitter:card content="summary"><meta name=twitter:title content="Go - Skillstak Beginner Boost Week 17 and 18 Notes | Mischa van den Burg"><meta name=twitter:description content="Beginner Boost Week 17 and 18 Notes Link to video
Don&rsquo;t forget to set GOBIN=~/.local/bin, GOPRIVATE, CGO_ENABLED=0 Go Testing - Example Tests func ExampleFoo() { foo() // Output: // Foo } The ExampleFoo indicates the test here. It needs to match the name exactly after Example. But it is capitalized.
It runs that function and will compare the output to what is specified.
It says &ldquo;see if the program generates this output in std out&rdquo;."><meta property="og:title" content="Go - Skillstak Beginner Boost Week 17 and 18 Notes | Mischa van den Burg"><meta property="og:description" content="Beginner Boost Week 17 and 18 Notes Link to video
Don&rsquo;t forget to set GOBIN=~/.local/bin, GOPRIVATE, CGO_ENABLED=0 Go Testing - Example Tests func ExampleFoo() { foo() // Output: // Foo } The ExampleFoo indicates the test here. It needs to match the name exactly after Example. But it is capitalized.
It runs that function and will compare the output to what is specified.
It says &ldquo;see if the program generates this output in std out&rdquo;."><meta property="og:type" content="article"><meta property="og:url" content="https://mischavandenburg.com/zet/go-rwxrob-boost-week-17-18/"><meta property="og:image" content="https://mischavandenburg.com/cloud-blue-logo.jpeg"><meta property="article:section" content="zet"><meta property="article:published_time" content="2023-03-26T00:00:00+00:00"><meta property="article:modified_time" content="2023-03-26T00:00:00+00:00"><meta property="og:site_name" content="Mischa's Blog & Public Zettelkasten"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Zettelkasten","item":"https://mischavandenburg.com/zet/"},{"@type":"ListItem","position":2,"name":"Go - Skillstak Beginner Boost Week 17 and 18 Notes","item":"https://mischavandenburg.com/zet/go-rwxrob-boost-week-17-18/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Go - Skillstak Beginner Boost Week 17 and 18 Notes | Mischa van den Burg","name":"Go - Skillstak Beginner Boost Week 17 and 18 Notes","description":"Beginner Boost Week 17 and 18 Notes Link to video\nDon\u0026rsquo;t forget to set GOBIN=~/.local/bin, GOPRIVATE, CGO_ENABLED=0 Go Testing - Example Tests func ExampleFoo() { foo() // Output: // Foo } The ExampleFoo indicates the test here. It needs to match the name exactly after Example. But it is capitalized.\nIt runs that function and will compare the output to what is specified.\nIt says \u0026ldquo;see if the program generates this output in std out\u0026rdquo;.","keywords":["Study","Go","Coding"],"wordCount":"919","inLanguage":"en","datePublished":"2023-03-26T00:00:00Z","dateModified":"2023-03-26T00:00:00Z","author":{"@type":"Person","name":"Mischa van den Burg"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://mischavandenburg.com/zet/go-rwxrob-boost-week-17-18/"},"publisher":{"@type":"Organization","name":"Mischa van den Burg","logo":{"@type":"ImageObject","url":"https://mischavandenburg.com/favicon.ico"}}}</script><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary-bg:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list-page{background:var(--theme)}.list-page:not(.dark)::-webkit-scrollbar-track{background:0 0}.list-page:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript></head><body class="type-zet kind-page layout-" id=top><script data-no-instant>function switchTheme(e){switch(e){case"light":document.body.classList.remove("dark");break;case"dark":document.body.classList.add("dark");break;default:window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")}}function isDarkTheme(){return document.body.className.includes("dark")}function getPrefTheme(){return localStorage.getItem("pref-theme")}function setPrefTheme(e){switchTheme(e),localStorage.setItem("pref-theme",e)}const toggleThemeCallbacks={};toggleThemeCallbacks.main=e=>{setPrefTheme(e?"light":"dark")},window.addEventListener("toggle-theme",function(){const e=isDarkTheme();for(const t in toggleThemeCallbacks)toggleThemeCallbacks[t](e)});function toggleThemeListener(){window.dispatchEvent(new CustomEvent("toggle-theme"))}</script><script>(function(){const t="auto",e=getPrefTheme(),n=e||t;switchTheme(n)})()</script><header class=header><nav class=nav><div class=logo><a href=https://mischavandenburg.com/ accesskey=h title="Mischa van den Burg (Alt + H)">Mischa van den Burg</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://mischavandenburg.com/aboutme/ title="Start Here">Start Here</a></li><li><a href=https://mischavandenburg.com/tags/ title=Tags>Tags</a></li><li><a href=https://mischavandenburg.com/archives/ title="Index (Zet)">Index (Zet)</a></li><li><a href=https://mischavandenburg.com/tags/article/ title=Articles>Articles</a></li><li><a href=https://mischavandenburg.com/search/ title="Search (Alt + /)" data-no-instant accesskey=/>Search</a></li></ul></nav><link rel=me value=https://toot.community/@mischavandenburg></header><main class="main post"><article class=post-single><header class=post-header><h1 class=post-title>Go - Skillstak Beginner Boost Week 17 and 18 Notes</h1><div class=post-meta><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg><span>March 26, 2023</span></span><span class=meta-item>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select:text"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z" style="user-select:text"/><line x1="7" y1="7" x2="7" y2="7" style="user-select:text"/></svg><span class=post-tags><a href=https://mischavandenburg.com/tags/study/>Study</a><a href=https://mischavandenburg.com/tags/go/>Go</a><a href=https://mischavandenburg.com/tags/coding/>Coding</a></span></span></div></header><div class=post-content><h1 id=beginner-boost-week-17-and-18-notes>Beginner Boost Week 17 and 18 Notes<a hidden class=anchor aria-hidden=true href=#beginner-boost-week-17-and-18-notes>¶</a></h1><p><a href="https://www.youtube.com/watch?v=WMH5ENF_Xvo">Link to video</a></p><ul><li>Don&rsquo;t forget to set <code>GOBIN=~/.local/bin</code>, <code>GOPRIVATE</code>, <code>CGO_ENABLED=0</code></li></ul><h1 id=go-testing---example-tests>Go Testing - Example Tests<a hidden class=anchor aria-hidden=true href=#go-testing---example-tests>¶</a></h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>ExampleFoo</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nf>foo</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Output:
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// Foo
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>The ExampleFoo indicates the test here. It needs to match the name exactly after Example. But it is capitalized.</p><p>It runs that function and will compare the output to what is specified.</p><p>It says &ldquo;see if the program generates this output in std out&rdquo;.</p><p>These are called example tests.</p><p>To export a function the first letter should be a capital. Everything that has a capital as first letter is exported.</p><p>When you are writing example tests you are providing readable automatic documentation to your end users.</p><p>You can use <code>// Unordered Output</code> if you don&rsquo;t care about the order.</p><h2 id=printf>Printf<a hidden class=anchor aria-hidden=true href=#printf>¶</a></h2><p>use <code>printf %q</code> to see all of the characters. <code>%q</code> escapes all of the invisible characters. So you can see \r or \n for example. This is the only way to check for empty values in Example tests.</p><h1 id=how-to-learn-go>How to Learn Go<a hidden class=anchor aria-hidden=true href=#how-to-learn-go>¶</a></h1><p>Don&rsquo;t go to the books. Stay with the spec, write your own projects, and find one or two or 10 Go projects and study the crap out of them.</p><p>Study the code bases. Kind is a good codebase.</p><p>Read the Go codebase!</p><p><a href="https://youtu.be/9hEnzD-bNy4?t=8467">https://youtu.be/9hEnzD-bNy4?t=8467</a></p><p>Read other people&rsquo;s code and see if your code looks like that.</p><p>&ldquo;Good artists copy, great artists steal.&rdquo; - quote accredited to Steve Jobs but it has its origin in T.S. Eliot and even further back.</p><p><strong>Start with the tests! Read the tests first.</strong></p><h1 id=searching-go-documentation>Searching Go Documentation<a hidden class=anchor aria-hidden=true href=#searching-go-documentation>¶</a></h1><p>Always search for golang when searching on the net. Preferably text based searching.</p><p>Then you use <code>go doc os.Stderr</code> - for example.</p><h1 id=variable-names>Variable Names<a hidden class=anchor aria-hidden=true href=#variable-names>¶</a></h1><p>Long variable names are frowned upon in the Go community. They should be as short as they need to be.</p><p>If using in a tight scope, a single letter is fine. In a block two or three characters is more than enough. It distracts from reading the code if they have very long names.</p><p>The more remote the variable is, the more descriptive it should be.</p><h1 id=the-art-of-coding>The Art of Coding<a hidden class=anchor aria-hidden=true href=#the-art-of-coding>¶</a></h1><ul><li>breaking everything down into small 1 task functions</li><li>don&rsquo;t repeat yourself</li></ul><p>See <a href=#stuttering>stuttering</a></p><h1 id=top-level-libraries>Top Level Libraries<a hidden class=anchor aria-hidden=true href=#top-level-libraries>¶</a></h1><p>It&rsquo;s not common to make a single utility at a top-level GitHub repo.</p><p>It&rsquo;s very likely that you are going to want to reuse code somewhere.</p><p>You should start thinking of things as composition. &ldquo;How is this code going to be used by other people&rdquo;.</p><p>Go is different than bash: you will use this code elsewhere.</p><ul><li>What is the function of what I&rsquo;m creating?</li><li>Create these as small composable blocks</li><li>So you can use them later</li></ul><h1 id=example-based-testing>Example Based Testing<a hidden class=anchor aria-hidden=true href=#example-based-testing>¶</a></h1><p><a href=https://pkg.go.dev/testing>https://pkg.go.dev/testing</a></p><blockquote><p>The package also runs and verifies example code. Example functions may include a
concluding line comment that begins with &ldquo;Output:&rdquo; and is compared with the
standard output of the function when the tests are run. (The comparison ignores
leading and trailing space.) These are examples of an example:</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>ExampleHello</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Output: hello
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>ExampleSalutations</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;hello, and&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;goodbye&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Output:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// hello, and
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// goodbye
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><h1 id=searching-information>Searching Information<a hidden class=anchor aria-hidden=true href=#searching-information>¶</a></h1><p>Being able to look up information quickly and taking notes about them is just as important as the coding itself.</p><h1 id=packages-or-libraries>Packages or Libraries<a hidden class=anchor aria-hidden=true href=#packages-or-libraries>¶</a></h1><p>You can either have a command, which will be a main package, or you can have an importable library named .go. Should have any other name besides main.</p><p>You rarely want your top level of your module to be a package.</p><p>Convention: cmd directory.</p><p>This is specifically for separate commands.</p><h2 id=stuttering>Stuttering<a hidden class=anchor aria-hidden=true href=#stuttering>¶</a></h2><p><code>greet.Greet()</code> is called stuttering in go. Don&rsquo;t do this.</p><h1 id=modules>Modules<a hidden class=anchor aria-hidden=true href=#modules>¶</a></h1><p>A module can be defined as &ldquo;a GitHub repo with a go.mod&rdquo; in it.</p><p>&ldquo;A collection of Go packages stored in a file tree with a go.mod file at its root&rdquo;</p><p>The go.mod contains the import path of the module.</p><h2 id=what-module-does-greet-belong-to>What Module Does Greet Belong To?<a hidden class=anchor aria-hidden=true href=#what-module-does-greet-belong-to>¶</a></h2><p>In the case of our greet command, it belongs to the greet module located at:</p><p><code>github.com/mischavandenburg/go/rwxrob/boost2022/challenges/greet</code></p><p>Greet has a main package which is part of the greet module.</p><p>Now we will add another command with another main package to this module.</p><h1 id=cli>CLI<a hidden class=anchor aria-hidden=true href=#cli>¶</a></h1><p>Stuff that has to do with interacting with the user on the command line should never be in the package library. The package library should be written to be solid no matter what.</p><p>The &ldquo;name&rdquo; for our greet program should be able to come to anywhere.</p><h1 id=avoid-interactive-input>Avoid Interactive Input<a hidden class=anchor aria-hidden=true href=#avoid-interactive-input>¶</a></h1><p>You generally want to avoid interactive input. Prefer arguments, env variables or file inputs.</p><p>If you call your program from another script it will stall if it waits for interactive input.</p><p>A good example is forgetting &ldquo;-y&rdquo; when running apt-get.</p><p>An interactive story game is a different use case than a CLI tool.</p><p>UNIX filters are specifically designed to read input and generate an output based on the input. Here it is expected behaviour to stall if no input is given.</p><h1 id=runes>Runes<a hidden class=anchor aria-hidden=true href=#runes>¶</a></h1><p>A rune is a single Unicode point.</p><p>The same people who created Go, created the Unicode standard.</p><p>Go has the best Unicode support.</p><h1 id=writing-documentation>Writing Documentation<a hidden class=anchor aria-hidden=true href=#writing-documentation>¶</a></h1><p>Convention is to always start with the name of the thing you are documenting. When documenting a function, always start with the function name. For example <code>// ReadLine reads from standard input</code></p><p>Use <code>go doc --all</code> to see a print of all the documentation in your package.</p><p>The same goes for packages. Always start with &ldquo;Package internal does bla bla&rdquo;</p><h1 id=links>Links<a hidden class=anchor aria-hidden=true href=#links>¶</a></h1><p>202303261403</p><p><a href="https://www.youtube.com/watch?v=WMH5ENF_Xvo">https://www.youtube.com/watch?v=WMH5ENF_Xvo</a></p><p>[[go]]</p><p>[[coding]]</p><p>[[rwxrob]]</p></div><footer class=post-footer><nav class=paginav><a class=prev href=https://mischavandenburg.com/zet/go-reading-stdinput-cmdline/><span class=title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select:text"><line x1="19" y1="12" x2="5" y2="12" style="user-select:text"/><polyline points="12 19 5 12 12 5" style="user-select:text"/></svg>&nbsp;Prev Page</span><br><span>Go - Reading from Standard Input Provided by User</span>
</a><a class=next href=https://mischavandenburg.com/zet/newsboat-in-zenmode/><span class=title>Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select:text"><line x1="5" y1="12" x2="19" y2="12" style="user-select:text"/><polyline points="12 5 19 12 12 19" style="user-select:text"/></svg></span><br><span>How to Run Newsboat in Zenmode</span></a></nav></footer><div class=comments-separator></div></article></main><footer class=footer><span>&copy; 2023 <a href=https://mischavandenburg.com/>Mischa van den Burg</a></span><span style=display:inline-block;margin-left:1em>
<a href=https://creativecommons.org/licenses/by-nc-nd/4.0/>CC BY-NC-ND</a>
</span><span style=display:inline-block;margin-left:1em></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>(function(){const t=""=="1";if(t)return;let e=document.getElementById("theme-toggle");e.removeEventListener("click",toggleThemeListener),e.addEventListener("click",toggleThemeListener)})()</script><script>(function(){let e=document.getElementById("menu");e&&(e.scrollLeft=localStorage.getItem("menu-scroll-position"),e.onscroll=function(){localStorage.setItem("menu-scroll-position",e.scrollLeft)});const t=""=="1",n=""=="1";if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||t||n)return;document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})})()</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>if(window.scrollListeners)for(const e of scrollListeners)window.removeEventListener("scroll",e);window.scrollListeners=[]</script><script src=/js/medium-zoom.min.js data-no-instant></script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>(function(){const a=""=="1";if(!a)return;if(!document.querySelector(".toc")){console.log("no toc found, ignore toc scroll");return}const r=window.scrollListeners,t=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id]"),n="active";let e=t[0];o(e).classList.add(n);const c=()=>{const s=[];for(const e of t)if(l(e)<5)s.push(e);else break;s.length>0?newActiveHeading=s[s.length-1]:newActiveHeading=t[0],e!=newActiveHeading&&(o(e).classList.remove(n),e=newActiveHeading,o(e).classList.add(n))};let s=null;const i=()=>{s!==null&&clearTimeout(s),s=setTimeout(c,50)};window.addEventListener("scroll",i,!1),r.push(i);function o(e){const t=encodeURI(e.getAttribute("id")).toLowerCase();return document.querySelector(`.toc ul li a[href="#${t}"]`)}function l(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect();return t.top}})()</script></body></html>